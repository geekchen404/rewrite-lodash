# 这篇文章是对于https的笔记
  ## 什么是https
  是一种通信的方式，
  这个https本身不是一种tcp/ip里面的协议，而是建立在SSL协议和HTTP协议上面的一种安全解决方案
  而http和SSL才是货真价实的协议
  https = SSL+HTTP
  SSL是建立在TCP与HTTP之间的一个协议
  所以大家在问https的时候的本质是在探讨SSL做了什么
  使用SSL建立了安全的通信线路之后，就可以使用http进行通信了
  所以https=http+加密+认证+完整性保护
  ## 为什么要用https
  http是明文传输的，其实在互联网下，就可以像裸奔一样，别人都可以看见你在干嘛，在请求什么，在看什么
  包括你的账户信息和密码都有可能被窃听，数据也有可能被篡改（中间人攻击）
  所以为了保证网络通信的安全性，增加了一种SSL的协议
  这个协议有两个特别重要的东西：加密和证书
  有了这两个东西，网络请求的报文的主体被加密，通信也被加密，而且因为证书的存在（不可伪造和可信任性）
  很大程度上避免了互联网的防窃听和防篡改，当然不可能百分之百的保证安全
  ## https到底做了什么
  其实就是SSL做了什么,就是加密和证书认证
  加密方式有好几种，本质就是对私钥和公钥的不同运用
  公钥加密，私钥解密，私钥保存在服务端，不被公开，在一定程度上可以防止被窃听，因为不能解密报文信息
  1. 对称加密，加密和解密用的是同一个秘钥，但是秘钥是会被传输的，其实也不是很安全
  2. 非对称加密，这种方式解决了上面的问题，引入了公钥和私钥，
      客户端的公私钥叫做p1,s1
      服务端的公私钥叫做p2,s2
      在发起请求的时候，就会先用自己的私钥加密，再用对方的公钥加密发送数据
      服务端收到请求，就用自己的私钥解密，再用客户端的公钥解密
      就算是抓包，也只能拿到公钥，不可能拿到私钥，私钥是一定不会发送的
  3. 混合加密，这个是https最终采用的加密方式
      用非对称加密的方式交换需要加密的公钥
      再用对称加密的方式进行正常的通信
      本质就是，我们的通信是对称加密的，但是我们交换公钥的过程是非对称加密的
      所以别人拿不到我们共用的秘钥
      **但是为什么要那么麻烦的做呢？**
      因为对称加密不是那么安全，非对称加密又更加消耗网络资源，每次请求都要双方去进行加密解密，套了两层
      所以在交换共享秘钥的时候采用更加安全的非对称加密，而一旦确定了通信的安全之后，就可以进行对称加密
      所以会采用混合加密的方式
  ## 所以为什么不全部都使用https呢
  这里在于，加密和解密是一个非常麻烦的过程，https是比正常的http通信更慢的
  有两个麻烦的点：一个是通信变慢，一个是处理速度变慢
  1. 通信变慢：
     消耗网络资源，这中间还涉及到第三方的证书机构
     https比正常的http通信要慢2-100倍，因为必须进行SSL通信
  2. 处理速度变慢：
     因为SSL都需要服务端和客户端进行加密和解密，更加消耗硬件的CPU以及内存资源

  ## 个人总结
    http就是一种最原始的应用层的网站之间的通信的协议
    其实在这个协议之上又融合了其他的技术以及想法，变成了各种安全，快速的优化的通信方式
    比如http版本的一次次更新，都是对通信的安全和速度的改进
    那么https最重要的地方就是加密和证书，加密保证了不会被随意的窃听
    证书保证了通信双方的可靠性，不会被中间人随意的修改，欺骗
    但是另一层面上增加了网络资源的消耗，处理速度的减慢
    就像两个异地的人互相写信交流一样
    http就是本来的飞鸽传书，就直接卷个卷发出去
    https就是将文字放在一个信封里面，明文写上去哪儿，给谁，但是内容通过一种加密方式写下
    写信之前会交换公钥，我把我的公钥给你，你把你的公钥给我
    写信的时候我用我的私钥加密一层，再用你的公钥加密一层发送出去
    收到信了，我先用我的私钥解密一层，再用你的公钥解密一层就好了
    
